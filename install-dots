#!/bin/bash 

FOLDERS=(
	"~/.config/nvim/lua/configs"
	"~/.config/nvim/lua/plugins"
	"~/.local/share/nvim/site/pack/packer/start/startup.nvim/lua/startup/themes"
	)

install_dots() {
  echo "========= linking zshrc ========="
  ln -Ffv ./.zshrc ~/.zshrc && printf "\n"

  echo "========= linking tmux.conf ========="
  ln -Ffv ./.config/tmux/tmux.conf ~/.config/tmux/tmux.conf && printf "\n"

  echo "========= linking init.lua  ========="
  ln -Ffv .config/nvim/init.lua ~/.config/nvim/init.lua && printf "\n"

  echo "========= linking nvim lua configs ========="
  ln -Ffv .config/nvim/lua/configs/* ~/.config/nvim/lua/configs/ && printf "\n"

  echo "========= linking nvim lua plugins ========="
  ln -Ffv .config/nvim/lua/plugins/* ~/.config/nvim/lua/plugins/ && printf "\n"

  echo "========= linking startup.nvim dashboard ========="
  ln -Ffv .local/share/nvim/lazy/alpha-nvim/lua/alpha/themes/dashboard.lua \
    ~/.local/share/nvim/lazy/alpha-nvim/lua/alpha/themes/dashboard.lua \
    && printf "\n"
}

printf "Your installed dotfiles will be overwritten. \n\nAre you sure you want to continue? y/n\n"

read -r install
if [ "$install" != "${install#[Yy]}" ] ;then 
  for folder in ${FOLDERS[@]}; do
	  if [ ! -d $folder ]; then
	    mkdir -p $folder
	  fi
  done

  git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
  install_dots
else
  exit
fi

